import{S as pe,u as W,t as T,o as ve,r as q,a as S,c as J,w as v,V as fe,b as r,d as he,e as Z,f as z,g as ge,h as ye,i as xe,j as D,k as G,l as we,m as k,F as be,s as Ve,n as i,p as b,q as ke,v as te,x as E,y as le,z as R,A as M,B as $,C as ae,D as oe,E as ie,G as P,H as se,I as re,J as de,K as ce,L as _e,M as $e}from"./vendor.3ab82de8.js";const Ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const n of d.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function l(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=l(a);fetch(a.href,d)}};Ce();const N=function(t){var e=new Date;return t=t.split("-"),t[0]==""&&(t.splice(0,1),t[0]=-parseInt(t[0])),e.setFullYear(t[0]),t.length>1?e.setMonth(t[1]-1):e.setMonth(0),t.length>2?e.setDate(t[2]-1):e.setDate(1),e.getTime()},ee=function(t,e){var l,o=new Date(t),a=o.getFullYear();return e=="year with AD"?l=`${Math.abs(a)} ${a>=0?"AD":"BC"}`:e=="yyyy-mm"?l=`${a}-${o.getMonth()+1}`:e=="yyyy-mm-dd"&&(l=`${a}-${o.getMonth()+1}-${o.getDate()+1}`),l},Se=function(t){let e=t.target.parentElement.getAttribute("img"),l=t.target.parentElement.getAttribute("comment");if(l!=""||e!=""){let a=document.getElementById("time_line_tooltip");a.innerHTML=l,a.style.display="block",a.style.left=t.layerX+10+"px",a.style.top=t.layerY+10+"px";let d=document.createElement("br");a.appendChild(d);var o=document.createElement("img");o.setAttribute("src",e),o.style.maxWidth="400px",o.style.maxHeight="300px",o.style.width="auto",o.style.height="auto",a.appendChild(o)}},Be=function(t){var e=document.getElementById("time_line_tooltip");e.style.display="none"},Te=function(t,e,l,o){let a=l.st,d=l.ed,n=l.dateformat;t.group().line(0,0,0,1).stroke({color:"#303030"});let s=t.group();for(let m=0;m<=e;m++){let h=s.group().attr({tick_index:m}),g=m*(d-a)/e;h.line(0,0,1,0).stroke({color:"#303030",linecap:"round"}),h.text(ee(g+a,n)).font({family:o.time_font_family,weight:"bold"})}},Ae=function(t,e,l,o,a){var d=e.main_T,n=e.top,_=e.period_font,s=e.L,m=8*e.x_scale,h=1*e.x_scale;t.children()[0].children()[0].move(d,n).height(s).stroke({width:m});let C=t.children()[1];for(let V of C.children()){let c=V.node.getAttribute("tick_index")*(a-o)/l*(s/(a-o)),u=V.children();u[0].move(0,c+n).width(d).stroke({width:h}),u[1].move(0,c+n-u[1].node.getBBox().height).font({size:_.size3})}},ze=function(t,e,l,o){t.text(e).font({family:o.time_font_family,weight:"bold"}).attr({index:l})},Ue=function(t,e){var l=e.period_font,o=e.interval,a=e.period_T,d=e.left,n=a+d;for(let _ of t.children()){let s=_.node.getAttribute("index");_.font({size:l.size1}).move(n+s*o,0)}},Le=function(t,e,l,o){let a=t.group();a.attr({st:e.st,ed:e.ed,index:l,v:e.vertical});var d=Math.floor((N(e.ed)-N(e.st))/36e5/24/365),n=e.name;e.vertical&&(n=n.split("").join(`
`));var _=e.color,s=e.url;a.line(0,0,0,1).stroke({color:"#303030"}),a.line(0,0,1,0).stroke({color:"#303030"}),a.line(0,0,1,0).stroke({color:"#303030"}),a.rect(10,10).fill(_),a.link(s).target("_blank").text(n).font({family:o.label_family,weight:"bold"}),a.text(`(${d})`).font({family:o.label_family,weight:"thin"})},Ne=function(t,e,l){var o=8*e.x_scale,a=5*e.x_scale,d=10*e.x_scale,n=e.period_font,_=e.interval,s=e.period_T,m=e.left,h=e.top,g=e.L,y=e.st,C=e.ed,V=t.children();l&&(V=[V[V.length-1]]);for(let x of V){let c=x.node.getAttribute("index"),u=x.node.getAttribute("st"),U=x.node.getAttribute("ed"),B=x.node.getAttribute("v")==="true",O=(N(u)-y)*(g/(C-y)),f=(N(U)-N(u))*(g/(C-y));var F=e.mode=="detail"?s+c*_+m:s+s*c+m+o/2*c;let p=F,A=h+O,w=x.children();w[0].move(p+s,A).height(f).stroke({width:o}),w[1].move(p,A).width(s).stroke({width:a}),w[2].move(p,A+f).width(s).stroke({width:a}),w[3].move(p,A).attr({width:s,height:f}),w[4].children()[0].font({size:n.size1}),w[5].font({size:n.size3});let K=w[3].node.getBBox(),j=w[4].node.getBBox(),X=w[5].node.getBBox(),Y=K.width,H=K.height,Q=B?j.width:j.height,L=B?j.height:j.width,ne=X.width,I=X.height;H<L+I&&(w[4].children()[0].font({size:n.size3,family:n.label_family,weight:"bold"}),w[5].font({size:n.size3/2,family:n.label_family,weight:"bold"}),j=w[4].node.getBBox(),X=w[5].node.getBBox(),Q=B?j.width:j.height,L=B?j.height:j.width,ne=X.width,I=X.height),H<L+I?(B?w[4].move(p-(Y-Q)/2,A+(H-L-I)/2):w[4].transform({translate:[p-(Y-Q)/2,A+(H-L-I)/2-d],origin:"bottom left",rotate:90}),w[5].move(p-(Y-ne)/2,A+(H-L-I)/2+L)):(B?w[4].move(p+(Y-Q)/2,A+(H-L-I)/2):w[4].transform({translate:[p+(Y-Q)/2,A+(H-L-I)/2-d],origin:"bottom left",rotate:90}),w[5].move(p+(Y-ne)/2,A+(H-L-I)/2+L))}},Oe=function(t,e,l,o,a){var d=N(e.time);let n=t.group();n.attr({time:d,index:l});var _=ee(d,a),s=e.name,m=e.color,h=e.url,g=e.comment,y=e.img;n.line(0,0,1,0).stroke({color:"#303030"}),n.text(_).font({size:o.size,family:o.time_font_family,weight:"bold"}),n.link(h).target("_blank").text(s).font({size:o.size,family:o.label_family,weight:"bold",fill:m}).attr({comment:g,img:y}).on("mouseover",Se).on("mouseout",Be)},De=function(t,e,l){var o=2*e.x_scale,a=5*e.x_scale,d=e.event_font,n=e.interval,_=e.event_T,s=e.period_T,m=e.left,h=e.top,g=e.L,y=e.st,C=e.ed,V=t.children();l&&(V=[V[V.length-1]]);for(let x of V){let c=x.node.getAttribute("index");var F=(x.node.getAttribute("time")-y)*(g/(C-y));let U=s*2+c*n+m,B=h+F,O=x.children();O[0].move(U,B).width(_).stroke({width:o});let f=O[1].node.getBBox();O[1].font({size:d.size}).move(U+_-f.width,B-f.height);let p=O[2].node.getBBox();O[2].children()[0].font({size:d.size}).move(U+_+a,B-p.height)}};class Ee{constructor(e,l){this.div=e,this.mode=l,this.draw=null,this.data={}}create_canvas(e,l){const{H:o,W:a,padding:d,interval:n,base_font:_,st:s,ed:m,ticks:h,dateformat:g}=e;this.config={H:parseInt(o),W:parseInt(a),padding:parseInt(d),interval:parseInt(n),base_font:parseFloat(_),st:N(s),ed:N(m),ticks:parseInt(h),dateformat:g},this.x_scale=1,this.y_scale=1,this.data=l,this.draw!=null?(this.draw.clear(),this.draw.size(this.config.W*this.x_scale,this.config.H*this.y_scale).viewbox(-d,-d,this.config.W,this.config.H)):this.draw=pe().addTo(this.div).size(this.config.W*this.x_scale,this.config.H*this.y_scale).viewbox(-d,-d,this.config.W,this.config.H),this.axis_g=this.draw.group(),this.period_g=this.draw.group(),this.event_g=this.draw.group(),this.title_g=this.draw.group(),this.computer_vals(),this.add_content(),this.adjust_content()}computer_vals(){let e=this.config.base_font;this.computed={mode:this.mode,st:this.config.st,ed:this.config.ed,x_scale:this.x_scale,y_scale:this.y_scale,L:(this.config.H-2*this.config.padding)*this.y_scale,T:this.config.interval/5*this.x_scale,main_T:this.config.interval/5*this.x_scale,period_T:this.config.interval/5*2/3*this.x_scale,event_T:this.config.interval/5*this.x_scale,top:parseFloat(e)*this.x_scale*1.5,left:this.config.padding*1.5*this.x_scale,interval:this.config.interval*this.x_scale,period_font:{size1:parseFloat(e)*this.x_scale,size2:parseFloat(e)/2*this.x_scale,size3:parseFloat(e)/3*2*this.x_scale,label_family:"'Trebuchet MS', sans-serif",time_font_family:"'Brush Script MT', cursive"},event_font:{size:parseFloat(e)/3*2*this.x_scale,label_font_family:"'Trebuchet MS', sans-serif",time_font_family:"'Brush Script MT', cursive"},comment_font:{size:parseFloat(e)/3*2*this.x_scale,font_family:"'Trebuchet MS', sans-serif"}},this.computed.d=this.computed.L/(this.config.ed-this.config.st)}add_content(){Te(this.axis_g,this.config.ticks,{dateformat:this.config.dateformat,st:this.config.st,ed:this.config.ed},this.computed.period_font);for(const[e,l]of Object.entries(this.data)){let o=l.index;ze(this.title_g,l.text,o,this.computed.period_font);for(const a of l.periods)Le(this.period_g,a,o,this.computed.period_font);if(this.mode=="detail")for(const a of l.events)Oe(this.event_g,a,o,this.computed.event_font,this.config.dateformat)}}adjust_content(){Ae(this.axis_g,this.computed,this.config.ticks,this.config.st,this.config.ed),Ue(this.title_g,this.computed),Ne(this.period_g,this.computed,!1),De(this.event_g,this.computed,!1)}rescale(e){e?(this.y_scale=this.y_scale*1.1,this.x_scale=this.x_scale*1.1>1.2?1.2:this.x_scale*1.1):(this.y_scale=this.y_scale*.9<.5?.5:this.y_scale*.9,this.x_scale=this.x_scale*.9<.5?.5:this.x_scale*.9);let l=this.config.padding;this.draw.size(this.config.W*this.x_scale,this.config.H*this.y_scale).viewbox(-l,-l,this.config.W*this.x_scale,this.config.H*this.y_scale),this.computer_vals(),this.adjust_content()}}const Fe=z("div",{class:"scroll_div"},null,-1),je=z("div",{id:"time_line_tooltip",display:"none",style:{position:"absolute",display:"none"}},null,-1),Ie=z("div",{id:"draw"},null,-1),Me={name:"App",data:()=>({})},Pe=Object.assign(Me,{setup(t){const e=W(),l=e.state.app_data,{simple_mode:o}=T(l);ve(()=>{e.commit("update_app_data",{time_line:new Ee("#draw",String(o)=="true"?"simple":"detail")})});var a=0;return document.addEventListener("wheel",function(d){d.altKey&&(d.preventDefault(),new Date-a>100&&(e.dispatch("rescale",d.deltaY<0),a=new Date))},{passive:!1}),(d,n)=>{const _=q("AppBar"),s=q("NavBar");return S(),J(fe,null,{default:v(()=>[r(_),r(s),r(he,null,{default:v(()=>[r(Z,{flat:""},{default:v(()=>[Fe,je,Ie]),_:1})]),_:1})]),_:1})}}});var He=ge();const We={data:{},time_line:null,simple_mode:!1,curr_time_line:null,curr_period:null,curr_event:null},Je={},Ge={create_canvas(t,e){t.state.time_line.create_canvas(e,t.state.data)},redraw(t){t.state.time_line.redraw(t.state.data)},rescale(t,e){t.state.time_line.rescale(e)}},Re={update_app_data(t,e){Object.assign(t,e)},change_mode(t){t.time_line.mode=t.simple_mode?"simple":"detail"},add_new_time_line(t,e){let l=e.value,o={[l]:{text:l,index:Object.keys(t.data).length,periods:[],events:[]}};Object.assign(t.data,o),Object.assign(t.time_line.data,o)},add_new_period(t,e){let l=t.curr_time_line;t.data[l].periods.push(JSON.parse(JSON.stringify(e)))},delete_curr_period(t){let e=t.curr_time_line,l=t.data[e].periods.findIndex(o=>o.name==t.curr_period.name);t.data[e].periods.splice(l,1)},add_new_event(t,e){let l=t.curr_time_line;t.data[l].events.push(JSON.parse(JSON.stringify(e)))},delete_curr_event(t){let e=t.curr_time_line,l=t.data[e].events.findIndex(o=>o.name==t.curr_event.name);t.data[e].events.splice(l,1)}};var Ye={state:We,getters:Je,actions:Ge,mutations:Re};const qe={drawer:!0,canvas:{H:7e3,W:5e3,padding:50,interval:400,base_font:24,st:"-4500",ed:"2500",ticks:14,dateformat:"year with AD"},period_color:"#000000",event_color:"#000000",new_time_line:"",new_period:{name:"",st:"",ed:"",url:"",color:"",vertical:!0},is_new_period:!0,new_event:{time:"",name:"",comment:"",color:"",url:"",img:""},is_new_event:!0},Ke={},Xe={},Qe={update_ui(t,e){Object.assign(t,e)},update_canvas(t,e){console.log(e),Object.assign(t.canvas,e)}};var Ze={state:qe,getters:Ke,actions:Xe,mutations:Qe},et=ye({modules:{app_data:Ye,ui_control:Ze}});const tt=k(" mdi-menu "),lt=k(" Create Your Own Time Lines "),at=k("mdi-image"),ot=k("mdi-cloud-download-outline"),nt={setup(t){const e=W(),l=e.state.ui_control,{drawer:o}=T(l),a=()=>{e.commit("update_ui",{drawer:!o.value})},d=()=>{const _=e.state.app_data,{data:s}=T(_),{canvas:m}=T(l);var h="myTimeline.json",g=new Blob([JSON.stringify({data:s.value,canvas:m.value})],{type:"application/json"});be.exports.saveAs(g,h)},n=()=>{const _=document.getElementById("draw").children[0],s="my_timeline.png";Ve.saveSvgAsPng(_,s)};return(_,s)=>(S(),J(xe,{app:"",color:"primary",dark:"","clipped-left":"",dense:"",flat:""},{default:v(()=>[r(D,{icon:"",color:"primary",elevation:"0",class:"mx-5",onClick:a},{default:v(()=>[r(G,null,{default:v(()=>[tt]),_:1})]),_:1}),lt,r(D,{icon:"",flat:"",color:"primary",class:"ml-3",onClick:n},{default:v(()=>[r(G,null,{default:v(()=>[at]),_:1})]),_:1}),r(D,{icon:"",flat:"",color:"primary",class:"ml-3",onClick:d},{default:v(()=>[r(G,null,{default:v(()=>[ot]),_:1})]),_:1}),r(we)]),_:1}))}};const it={setup(t){const l=W().state.ui_control,{drawer:o}=T(l);return(a,d)=>{const n=q("CanvasSetting"),_=q("TimeLine"),s=q("Periods"),m=q("Events");return S(),J(ke,{modelValue:i(o),"onUpdate:modelValue":d[0]||(d[0]=h=>b(o)?o.value=h:null)},{default:v(()=>[r(n),r(_),r(s),r(m)]),_:1},8,["modelValue"])}}},st=k(" mdi-arrow-down-drop-circle-outline "),rt=k(" Canvas "),dt=k(" Draw"),ut=k(" Open"),ct={setup(t){const e=W(),l=e.state.ui_control,{canvas:o}=T(l),{H:a,W:d,padding:n,st:_,ed:s,interval:m,base_font:h,ticks:g,dateformat:y}=T(e.state.ui_control.canvas);var C=te(!1);const V=e.state.app_data,{time_line:F,simple_mode:x}=T(V),c=()=>{e.dispatch("create_canvas",o.value)},u=()=>{e.commit("change_mode")},U=O=>{try{let f=O.target.files;if(!f.length){alert("No file selected!");return}let p=f[0],A=new FileReader;A.onload=w=>{let K=JSON.parse(w.target.result);e.commit("update_app_data",{data:K.data}),e.commit("update_canvas",K.canvas),e.dispatch("create_canvas",o.value)},A.readAsText(p)}catch(f){console.error(f)}},B=()=>{document.getElementById("contentFile").click()};return(O,f)=>(S(),E(R,null,[r(Z,{flat:""},{default:v(()=>[r(M,{onClick:f[0]||(f[0]=p=>b(C)?C.value=!i(C):C=!i(C)),style:{cursor:"pointer"}},{default:v(()=>[z("div",null,[r(G,null,{default:v(()=>[st]),_:1}),rt])]),_:1}),i(C)?(S(),J(M,{key:0,class:"ml-5"},{default:v(()=>[r($,{modelValue:i(a),"onUpdate:modelValue":f[1]||(f[1]=p=>b(a)?a.value=p:null),label:"Height (px)"},null,8,["modelValue"]),r($,{modelValue:i(d),"onUpdate:modelValue":f[2]||(f[2]=p=>b(d)?d.value=p:null),label:"Width (px)"},null,8,["modelValue"]),r($,{modelValue:i(n),"onUpdate:modelValue":f[3]||(f[3]=p=>b(n)?n.value=p:null),label:"Padding (px)"},null,8,["modelValue"]),r($,{modelValue:i(m),"onUpdate:modelValue":f[4]||(f[4]=p=>b(m)?m.value=p:null),label:"Interval (px)"},null,8,["modelValue"]),r($,{modelValue:i(h),"onUpdate:modelValue":f[5]||(f[5]=p=>b(h)?h.value=p:null),label:"Base Font Size (px)"},null,8,["modelValue"]),r($,{modelValue:i(_),"onUpdate:modelValue":f[6]||(f[6]=p=>b(_)?_.value=p:null),label:"Starting Date"},null,8,["modelValue"]),r($,{modelValue:i(s),"onUpdate:modelValue":f[7]||(f[7]=p=>b(s)?s.value=p:null),label:"Ending Date"},null,8,["modelValue"]),r($,{modelValue:i(g),"onUpdate:modelValue":f[8]||(f[8]=p=>b(g)?g.value=p:null),label:"Ticks"},null,8,["modelValue"]),r($,{modelValue:i(y),"onUpdate:modelValue":f[9]||(f[9]=p=>b(y)?y.value=p:null),label:"Date Format"},null,8,["modelValue"]),r(ae,{modelValue:i(x),"onUpdate:modelValue":f[10]||(f[10]=p=>b(x)?x.value=p:null),label:"Simple Mode",onChange:u},null,8,["modelValue"]),r(D,{class:"mt-3 mr-3",onClick:c},{default:v(()=>[dt]),_:1}),r(D,{class:"mt-3 mr-3",onClick:B},{default:v(()=>[ut]),_:1}),z("input",{id:"contentFile",type:"file",accept:"application/json",style:{display:"none"},onChange:U},null,32)]),_:1})):oe("",!0)]),_:1}),r(le)],64))}};var ue=(t,e)=>{const l=t.__vccOpts||t;for(const[o,a]of e)l[o]=a;return l};const _t=k(" mdi-arrow-down-drop-circle-outline "),mt=["value"],pt=k(" Add "),vt={setup(t){var e=te(!0);const l=W(),o=l.state.ui_control,a=l.state.app_data,{data:d,curr_time_line:n}=T(a),{new_time_line:_}=T(o);let s=ie(()=>Object.keys(d.value));const m=()=>{l.commit("add_new_time_line",_)};return(h,g)=>(S(),E(R,null,[r(Z,{flat:""},{default:v(()=>[r(M,{onClick:g[0]||(g[0]=y=>b(e)?e.value=!i(e):e=!i(e)),style:{cursor:"pointer"}},{default:v(()=>[z("div",null,[r(G,null,{default:v(()=>[_t]),_:1}),k(" TimeLine: "+P(i(n)==null?"":i(d)[i(n)].text),1)])]),_:1}),r(M,{class:"ml-5 my-0 py-0"},{default:v(()=>[se(z("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>b(n)?n.value=y:null)},[(S(!0),E(R,null,de(i(s),y=>(S(),E("option",{key:y,value:y},P(y),9,mt))),128))],512),[[re,i(n)]])]),_:1}),i(e)?(S(),J(M,{key:0,class:"ml-5"},{default:v(()=>[r($,{modelValue:i(_),"onUpdate:modelValue":g[2]||(g[2]=y=>b(_)?_.value=y:null),label:"New TimeLine"},null,8,["modelValue"]),r(D,{class:"mt-3 mr-3",onClick:m},{default:v(()=>[pt]),_:1})]),_:1})):oe("",!0)]),_:1}),r(le)],64))}};var ft=ue(vt,[["__scopeId","data-v-64b3eeda"]]);const ht=k(" mdi-arrow-down-drop-circle-outline "),gt=k(" Periods: "),yt=["value"],xt=k(" Del "),wt=k(" Update "),bt={setup(t){var e=te(!0);const l=W(),o=l.state.ui_control,a=l.state.app_data,{data:d,curr_period:n,curr_time_line:_}=T(a);var{new_period:s,is_new_period:m,period_color:h,canvas:g}=T(o);const y=()=>{s.value=n,h.value=n.value.color};let C=ie(()=>_.value==null?[]:d.value[_.value].periods);const V=x=>{x=="del"?l.commit("delete_curr_period"):(s.value.color=h.value,String(m.value)=="true"?l.commit("add_new_period",s.value):(console.log(JSON.parse(JSON.stringify(s.value))),n.value=JSON.parse(JSON.stringify(s.value)))),l.dispatch("create_canvas",g.value)},F=x=>{const{r:c,g:u,b:U,a:B}=x.rgba;h.value=`rgba(${c}, ${u}, ${U}, ${B})`};return(x,c)=>(S(),E(R,null,[r(Z,{flat:""},{default:v(()=>[r(M,{onClick:c[0]||(c[0]=u=>b(e)?e.value=!i(e):e=!i(e)),style:{cursor:"pointer"}},{default:v(()=>[z("div",null,[r(G,null,{default:v(()=>[ht]),_:1}),gt,z("span",{style:_e(`background-color:${i(h)}`)},P(i(n)==null?"":i(n).name),5)])]),_:1}),i(e)?(S(),J(M,{key:0,class:"ml-5"},{default:v(()=>[se(z("select",{"onUpdate:modelValue":c[1]||(c[1]=u=>b(n)?n.value=u:null),onChange:y},[(S(!0),E(R,null,de(i(C),u=>(S(),E("option",{key:u,value:u},P(u.name)+" ("+P(i(ee)(i(N)(u.st),"year with AD"))+" - "+P(i(ee)(i(N)(u.ed),"year with AD"))+") ",9,yt))),128))],544),[[re,i(n)]]),r($,{modelValue:i(s).name,"onUpdate:modelValue":c[2]||(c[2]=u=>i(s).name=u),label:"Period name"},null,8,["modelValue"]),r($,{modelValue:i(s).st,"onUpdate:modelValue":c[3]||(c[3]=u=>i(s).st=u),label:"From"},null,8,["modelValue"]),r($,{modelValue:i(s).ed,"onUpdate:modelValue":c[4]||(c[4]=u=>i(s).ed=u),label:"To"},null,8,["modelValue"]),r($,{modelValue:i(s).url,"onUpdate:modelValue":c[5]||(c[5]=u=>i(s).url=u),label:"Url"},null,8,["modelValue"]),r(ae,{modelValue:i(s).vertical,"onUpdate:modelValue":c[6]||(c[6]=u=>i(s).vertical=u),label:"Chinese character"},null,8,["modelValue"]),r(ae,{modelValue:i(m),"onUpdate:modelValue":c[7]||(c[7]=u=>b(m)?m.value=u:m=u),label:"New Period"},null,8,["modelValue"]),r(D,{class:"mt-3 mr-3",onClick:c[8]||(c[8]=u=>V("del"))},{default:v(()=>[xt]),_:1}),r(D,{class:"mt-3 mr-3",onClick:c[9]||(c[9]=u=>V("update"))},{default:v(()=>[wt]),_:1})]),_:1})):oe("",!0)]),_:1}),r(i(ce),{theme:"light",color:i(h),onChangeColor:F},null,8,["color"]),r(le)],64))}};var Vt=ue(bt,[["__scopeId","data-v-561db63a"]]);const kt=k(" mdi-arrow-down-drop-circle-outline "),$t=k(" Events: "),Ct=["value"],St=k(" Del "),Bt=k(" Update "),Tt={setup(t){var e=te(!0);const l=W(),o=l.state.ui_control,a=l.state.app_data,{data:d,curr_event:n,curr_time_line:_}=T(a);var{new_event:s,is_new_event:m,event_color:h,canvas:g}=T(o);const y=()=>{s.value=n,h.value=n.value.color};let C=ie(()=>_.value==null?[]:d.value[_.value].events);const V=x=>{x=="del"?l.commit("delete_curr_event"):(s.value.color=h.value,String(m.value)=="true"?l.commit("add_new_event",s.value):n.value=s.value),l.dispatch("create_canvas",g.value)},F=x=>{const{r:c,g:u,b:U,a:B}=x.rgba;h.value=`rgba(${c}, ${u}, ${U}, ${B})`};return(x,c)=>(S(),E(R,null,[r(Z,{flat:""},{default:v(()=>[r(M,{onClick:c[0]||(c[0]=u=>b(e)?e.value=!i(e):e=!i(e)),style:{cursor:"pointer"}},{default:v(()=>[z("div",null,[r(G,null,{default:v(()=>[kt]),_:1}),$t,z("span",{style:_e(`background-color:${i(h)}`)},P(i(n)==null?"":i(n).name),5)])]),_:1}),i(e)?(S(),J(M,{key:0,class:"ml-5"},{default:v(()=>[se(z("select",{"onUpdate:modelValue":c[1]||(c[1]=u=>b(n)?n.value=u:null),onChange:y},[(S(!0),E(R,null,de(i(C),u=>(S(),E("option",{key:u,value:u},P(i(ee)(i(N)(u.time),"year with AD"))+" - "+P(u.name),9,Ct))),128))],544),[[re,i(n)]]),r($,{modelValue:i(s).name,"onUpdate:modelValue":c[2]||(c[2]=u=>i(s).name=u),label:"Event Name"},null,8,["modelValue"]),r($,{modelValue:i(s).time,"onUpdate:modelValue":c[3]||(c[3]=u=>i(s).time=u),label:"Time"},null,8,["modelValue"]),r($,{modelValue:i(s).comment,"onUpdate:modelValue":c[4]||(c[4]=u=>i(s).comment=u),label:"Comment"},null,8,["modelValue"]),r($,{modelValue:i(s).url,"onUpdate:modelValue":c[5]||(c[5]=u=>i(s).url=u),label:"Url"},null,8,["modelValue"]),r($,{modelValue:i(s).img,"onUpdate:modelValue":c[6]||(c[6]=u=>i(s).img=u),label:"Image"},null,8,["modelValue"]),r(ae,{modelValue:i(m),"onUpdate:modelValue":c[7]||(c[7]=u=>b(m)?m.value=u:m=u),label:"New Event"},null,8,["modelValue"]),r(D,{class:"mt-3 mr-3",onClick:c[8]||(c[8]=u=>V("del"))},{default:v(()=>[St]),_:1}),r(D,{class:"mt-3 mr-3",onClick:c[9]||(c[9]=u=>V("update"))},{default:v(()=>[Bt]),_:1})]),_:1})):oe("",!0)]),_:1}),r(i(ce),{theme:"light",color:i(h),onChangeColor:F},null,8,["color"]),r(le)],64))}};var At=ue(Tt,[["__scopeId","data-v-85ccd6e4"]]),zt={install:function(t){t.component("AppBar",nt),t.component("NavBar",it),t.component("CanvasSetting",ct),t.component("TimeLine",ft),t.component("Periods",Vt),t.component("Events",At)}};const Ut="modulepreload",me={},Lt="/",Nt=function(e,l){return!l||l.length===0?e():Promise.all(l.map(o=>{if(o=`${Lt}${o}`,o in me)return;me[o]=!0;const a=o.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":Ut,a||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),a)return new Promise((_,s)=>{n.addEventListener("load",_),n.addEventListener("error",s)})})).then(()=>e())};async function Ot(){(await Nt(()=>import("./webfontloader.f5e2b0ed.js").then(function(e){return e.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Ot();$e(Pe).use(He).use(et).use(zt).mount("#app");
